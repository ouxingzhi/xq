<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>xq test</title>
    <script>
    </script>
    <!-- <script src="http://code.jquery.com/jquery-1.11.0.js"></script> -->

    <script src="../../oquery/src/oquery.js"></script>
    <script src="../src/xq.js"></script>
    <script src="../src/xq.filter.js"></script>
    <script src="../src/xq.event.js"></script>
    <script src="../src/xq.attribute.js"></script>
    <script src="../src/xq.dom.js"></script>
    <script src="../src/xq.ajax.js"></script>
    <script src="../src/xq.css.js"></script>
    <script src="../src/xq.fx.js"></script>
    <style>
        .draw-box{ position:relative; width:200px; height:200px; border:1px solid #ccc;}
        .point{ width:1px; height:1px; position:absolute; background:#f00;}
    </style>
</head>

<body>
    <div id="body">
    </div>
    <script>
        function drawLine(data,root){
            var box = document.createElement('div'),
                point;
            box.className = 'draw-box';
            root.appendChild(box);
            var w = box.clientWidth,h = box.clientHeight;
            for(var i=0,len=data.length;i<len;i++){
                point = document.createElement('span');
                point.className = 'point';
                point.style.width = ((1/len)*w) + 'px';
                point.style.left = ((i/len)*w) + 'px';
                point.style.bottom = (data[i]*h) + 'px';
                box.appendChild(point);
            }
            return box;
        }
        var body = document.getElementById('body');
        /*function process(time,handler){
            var frame = parseInt(1000/60);
            var stime = time * 1000;
            for(var i=frame;i<stime;i+=frame){
                !function(i,ra){
                    setTimeout(function(){
                        console.log(i,ra)
                    },i);
                }(i,i/stime);
            }
        }
        process(5);*/
        var arr = [];
        for(var i=0;i<100;i++){
            arr.push(Math.pow(parseFloat(i/100),4));
        }
        drawLine(arr,body);
        var m = new  Media({
            duration:2,
            dispose:function(ratio,total){
                return Math.pow(ratio,2) * total;
            },
            handler:function(val,total,ratio){
                console.log(val);
            }
        });
        //m.play();
    </script>
</body>

</html>
